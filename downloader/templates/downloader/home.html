{% extends "downloader/base.html" %}

{% block content %}

    <main class="main-container">
        <div class="text-center mb-5">
            <h1 class="display-5 fw-bold mb-4">Download YouTube Videos</h1>
            <p class="lead">Paste your YouTube link below to start downloading</p>
        </div>

        <form action="{% url 'download' %}" method="post">
            {% csrf_token %}
            <div class="mb-4">
                <label for="urlInput" class="form-label fs-6 text-uppercase fw-bold">YouTube Video URL</label>
                <input type="url" class="form-control form-control-lg shadow-none" 
                    name="url" id="urlInput" 
                    placeholder="https://youtube.com/watch?v=..." 
                    required>
            </div>
            <button type="submit" class="btn btn-download w-100 py-3">
                <i class="bi bi-cloud-arrow-down me-2"></i>Analyze & Download
            </button>
        </form>

        <div class="supported-formats mt-5">
            <h3 class="h5 mb-3 fw-semibold">Supported Download Formats</h3>
            <div class="d-flex flex-wrap gap-2">
                {% if supports_merged_formats %}
                    <span class="format-badge bg-primary">MP4 1080p</span>
                    <span class="format-badge bg-success">MP4 720p</span>
                    <span class="format-badge bg-info">MP3 320kbps</span>
                    <span class="format-badge bg-warning">WebM</span>
                {% else %}
                    <span class="format-badge bg-primary">MP4 (Best Quality)</span>
                    <span class="format-badge bg-secondary">3GP</span>
                {% endif %}
            </div>
        </div>

        {% if messages %}
            <div class="alerts-container mt-5">
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" 
                        role="alert">
                        <div class="d-flex align-items-center">
                            <i class="bi {% if message.tags == 'success' %}bi-check-circle-fill{% else %}bi-exclamation-triangle-fill{% endif %} me-3"></i>
                            <div class="alert-message">{{ message }}</div>
                        </div>
                        <button type="button" class="btn-close" 
                                data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    </main>

{% endblock content %}